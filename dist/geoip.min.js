/*! geoip_resolver 2015-10-29 */
+function(a){"function"==typeof define&&define.amd?define("nytint-geoip",["jquery/nyt","underscore/nyt"],a):window.nytint_geoip=a(window.jQuery,window._)}(function(a,b){"use strict";var c=function(){var b=new a.Deferred;return a(document).ready(function(){b.resolve(a("[data-geoip-match-on]"))}),b.promise()},d=function(){return a.ajax({url:"http://geoip.newsdev.nytimes.com",dataType:"json"})},e=function(c,d){var e=c[0].data||{};for(d.each(function(){var c=a(this),d=b.map((c.data("geoipMatch")||"").split(","),function(b){return a.trim(b)}),f=e[c.data("geoipMatchOn")],g=a(c.data("geoipElse"));b.contains(d,f)?(c.show(),g.hide()):(c.hide(),g.show())});g.length>0;)g.shift()()},f=function(){a.when(d(),c()).done(e)},g=[];return f(),function(a){b.isFunction(a)&&g.push(a),f()}});