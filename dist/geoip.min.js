/*! geoip_resolver 2015-10-29 */
+function(a){"function"==typeof define&&define.amd?define("nytint-geoip",["jquery/nyt","underscore/nyt"],a):window.nytint_geoip=a(window.jQuery,window._)}(function(a,b){"use strict";var c=b.reduce(window.location.search.slice(1).split("&"),function(a,b){var c,d="geoip_";return 0===b.indexOf(d)&&(c=b.split("="),a[c[0].replace(d,"")]=c[1]),a},{}),d=function(){var b=new a.Deferred;return a(document).ready(function(){b.resolve(a("[data-geoip-match-on]"))}),b.promise()},e=function(){return a.ajax({url:"http://geoip.newsdev.nytimes.com",dataType:"json"})},f=function(d,e){var f=d[0].data||{};for(b.extend(f,c),e.each(function(){var c=a(this),d=b.map((c.data("geoipMatch")||"").split(","),function(b){return a.trim(b)}),e=f[c.data("geoipMatchOn")],g=a(c.data("geoipElse"));b.contains(d,e)?(c.show(),g.hide()):(c.hide(),g.show())});h.length>0;)h.shift()()},g=function(){a.when(e(),d()).done(f)},h=[];return g(),function(a){b.isFunction(a)&&h.push(a),g()}});