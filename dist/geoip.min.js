/*! geoip_resolver 2016-03-29 */
+function(a){"function"==typeof define&&define.amd?define("nytint-geoip",[],a):window.nytint_geoip=a()}(function(){"use strict";var a="nyt-geoip",b=sessionStorage,c=b?JSON.parse(b.getItem(a)):null,d=document.getElementsByTagName("html"),e=new XMLHttpRequest,f=["country_code","region","dma_code","postal_code"],g=!1,h=null,i=null;return h=function(a){return c?(i(c,a),c):(e.onload=function(b){var c=b.target,d="json"===c.responseType?c.response.data:JSON.parse(c.responseText).message;return i(d,a),d},e.onreadystatechange=function(){4===this.readyState&&200!==this.status&&console.error(this.status)},e.open("GET","http://geoip.newsdev.nytimes.com/",!0),e.responseType="json",void e.send())},i=function(c,e){if(!d)return console.error("HTML tag is missing?"),!1;if(b.setItem(a,JSON.stringify(c)),!g){for(var h,i=0;h=f[i];i++){var j=["geo",h.replace("_code",""),c[h]].join("-");d[0].classList.add(j)}g=!0}return"function"==typeof e&&e(c),c},window.NYTINT_TESTING||h(),h});